<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DGit MAC</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #1e1e1e;
            --bg-secondary: #2d2d2d;
            --bg-tertiary: #3d3d3d;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --accent-blue: #007aff;
            --accent-green: #34c759;
            --accent-red: #ff3b30;
            --accent-orange: #ff9500;
            --border-color: #404040;
            --hover-bg: #404040;
        }

        [data-theme="light"] {
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f5;
            --bg-tertiary: #e5e5e5;
            --text-primary: #000000;
            --text-secondary: #666666;
            --border-color: #d0d0d0;
            --hover-bg: #e5e5e5;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        /* ë¡œë”© í™”ë©´ */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-primary);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .splash-logo {
            font-size: 4rem;
            font-weight: 300;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .splash-loading {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        .loading-dots {
            display: flex;
            gap: 4px;
        }

        .loading-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--accent-blue);
            animation: loadingPulse 1.4s infinite ease-in-out both;
        }

        .loading-dot:nth-child(1) { animation-delay: -0.32s; }
        .loading-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes loadingPulse {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        /* ë©”ì¸ ì•± ì»¨í…Œì´ë„ˆ */
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .app-container.visible {
            opacity: 1;
        }

        /* íƒ€ì´í‹€ë°” */
        .title-bar {
            height: 28px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            padding: 0 16px;
            -webkit-app-region: drag;
        }

        .traffic-lights {
            display: flex;
            gap: 8px;
            -webkit-app-region: no-drag;
        }

        .traffic-light {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .traffic-light.close { background: #ff5f56; }
        .traffic-light.minimize { background: #ffbd2e; }
        .traffic-light.maximize { background: #27ca3f; }

        .traffic-light:hover {
            transform: scale(1.1);
        }

        .title-text {
            flex: 1;
            text-align: center;
            font-size: 13px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .theme-toggle {
            -webkit-app-region: no-drag;
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .theme-toggle:hover {
            background: var(--hover-bg);
        }

        /* ë©”ì¸ í™”ë©´ */
        .home-screen {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }

        .home-logo {
            font-size: 3rem;
            font-weight: 200;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .home-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 3rem;
        }

        .home-buttons {
            display: flex;
            flex-direction: column;
            gap: 16px;
            width: 100%;
            max-width: 400px;
        }

        .home-button {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            color: var(--text-primary);
        }

        .home-button:hover {
            background: var(--hover-bg);
            transform: translateY(-1px);
        }

        .home-button-icon {
            font-size: 1.2rem;
        }

        .home-button-text {
            flex: 1;
        }

        .home-button-title {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .home-button-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* í”„ë¡œì íŠ¸ ì‘ì—… í™”ë©´ */
        .workspace {
            flex: 1;
            display: none;
            flex-direction: column;
        }

        .workspace.active {
            display: flex;
        }

        .workspace-header {
            height: 60px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            padding: 0 20px;
            gap: 16px;
        }

        .project-info h2 {
            font-size: 1.2rem;
            font-weight: 500;
        }

        .project-path {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .workspace-content {
            flex: 1;
            display: flex;
        }

        .sidebar {
            width: 200px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            padding: 20px 0;
        }

        .sidebar-nav {
            list-style: none;
        }

        .sidebar-item {
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar-item:hover,
        .sidebar-item.active {
            background: var(--hover-bg);
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .content-area {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .terminal-panel {
            height: 200px;
            background: var(--bg-tertiary);
            border-top: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
        }

        .terminal-header {
            height: 40px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            padding: 0 16px;
        }

        .terminal-tabs {
            display: flex;
            gap: 16px;
        }

        .terminal-tab {
            padding: 8px 12px;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s ease;
            font-size: 0.9rem;
        }

        .terminal-tab.active {
            background: var(--hover-bg);
        }

        .terminal-content {
            flex: 1;
            padding: 12px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 12px;
            overflow-y: auto;
        }

        /* íŒŒì¼ ë¦¬ìŠ¤íŠ¸ */
        .file-list {
            display: grid;
            gap: 8px;
        }

        .file-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .file-item:hover {
            background: var(--hover-bg);
        }

        .file-thumbnail {
            width: 40px;
            height: 40px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .file-info {
            flex: 1;
        }

        .file-name {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .file-details {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .file-status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--accent-green);
        }

        /* ì»¤ë°‹ íˆìŠ¤í† ë¦¬ */
        .commit-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .commit-item {
            display: flex;
            gap: 12px;
            padding: 16px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
        }

        .commit-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 500;
        }

        .commit-details {
            flex: 1;
        }

        .commit-message {
            font-weight: 500;
            margin-bottom: 6px;
        }

        .commit-meta {
            font-size: 0.9rem;
            color: var(--text-secondary);
            display: flex;
            gap: 16px;
        }

        .commit-thumbnail {
            width: 60px;
            height: 40px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            border: 1px solid var(--border-color);
        }

        /* ëª¨ë‹¬ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .modal-subtitle {
            color: var(--text-secondary);
        }

        .modal-body {
            margin-bottom: 24px;
        }

        .modal-footer {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: var(--accent-blue);
            color: white;
        }

        .btn-primary:hover {
            background: #0056cc;
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            background: var(--hover-bg);
        }

        /* í† ìŠ¤íŠ¸ ì•Œë¦¼ */
        .toast-container {
            position: fixed;
            top: 40px;
            right: 20px;
            z-index: 2000;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .toast {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 300px;
            animation: toastSlideIn 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .toast.success { border-left: 4px solid var(--accent-green); }
        .toast.error { border-left: 4px solid var(--accent-red); }
        .toast.warning { border-left: 4px solid var(--accent-orange); }

        @keyframes toastSlideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* ë¸Œëœì¹˜ ì‹œê°í™” */
        .branch-graph {
            height: 300px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .branch-node {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent-blue);
            border: 2px solid var(--bg-primary);
        }

        .branch-line {
            position: absolute;
            height: 2px;
            background: var(--accent-blue);
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .workspace-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
            }
            
            .terminal-panel {
                height: 150px;
            }
        }

        /* ìˆ¨ê¹€ í´ë˜ìŠ¤ */
        .hidden {
            display: none;
        }
    </style>
</head>
<body data-theme="dark">
    <!-- ë¡œë”© í™”ë©´ -->
    <div class="splash-screen" id="splashScreen">
        <div class="splash-logo">DGit</div>
        <div class="splash-loading">
            <span>ë¡œë”© ì¤‘</span>
            <div class="loading-dots">
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì•± -->
    <div class="app-container" id="appContainer">
        <!-- íƒ€ì´í‹€ë°” -->
        <div class="title-bar">
            <div class="traffic-lights">
                <div class="traffic-light close" onclick="closeApp()"></div>
                <div class="traffic-light minimize" onclick="minimizeApp()"></div>
                <div class="traffic-light maximize" onclick="maximizeApp()"></div>
            </div>
            <div class="title-text" id="titleText">DGit MAC</div>
            <button class="theme-toggle" onclick="toggleTheme()">
                <span id="themeIcon">ğŸŒ™</span>
            </button>
        </div>

        <!-- í™ˆ í™”ë©´ -->
        <div class="home-screen" id="homeScreen">
            <div class="home-logo">DGit</div>
            <div class="home-subtitle">ë””ìì¸ íŒŒì¼ ì „ìš© ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ</div>
            <div class="home-buttons">
                <div class="home-button" onclick="selectNewProject()">
                    <div class="home-button-icon">âœ…</div>
                    <div class="home-button-text">
                        <div class="home-button-title">ìƒˆ í”„ë¡œì íŠ¸ ì„ íƒ</div>
                        <div class="home-button-desc">ìƒˆë¡œìš´ ë””ìì¸ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤</div>
                    </div>
                </div>
                <div class="home-button" onclick="openCurrentProject()">
                    <div class="home-button-icon">ğŸ“‚</div>
                    <div class="home-button-text">
                        <div class="home-button-title">ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸</div>
                        <div class="home-button-desc">ê°€ì¥ ìµœê·¼ í”„ë¡œì íŠ¸ë¥¼ ë°”ë¡œ ì—½ë‹ˆë‹¤</div>
                    </div>
                </div>
                <div class="home-button" onclick="showRecentProjects()">
                    <div class="home-button-icon">ğŸ•˜</div>
                    <div class="home-button-text">
                        <div class="home-button-title">ì§€ë‚œ í”„ë¡œì íŠ¸</div>
                        <div class="home-button-desc">ìµœê·¼ ì‘ì—…í•œ í”„ë¡œì íŠ¸ ëª©ë¡ì—ì„œ ì„ íƒ</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì‘ì—… ê³µê°„ -->
        <div class="workspace" id="workspace">
            <!-- í—¤ë” -->
            <div class="workspace-header">
                <button class="btn btn-secondary" onclick="goHome()">â† í™ˆ</button>
                <div class="project-info">
                    <h2 id="projectName">í”„ë¡œì íŠ¸ëª…</h2>
                    <div class="project-path" id="projectPath">/path/to/project</div>
                </div>
            </div>

            <!-- ì½˜í…ì¸  ì˜ì—­ -->
            <div class="workspace-content">
                <!-- ì‚¬ì´ë“œë°” -->
                <div class="sidebar">
                    <ul class="sidebar-nav">
                        <li class="sidebar-item active" onclick="showContent('files')">
                            <span>ğŸ“</span> íŒŒì¼
                        </li>
                        <li class="sidebar-item" onclick="showContent('versions')">
                            <span>ğŸ“</span> ë²„ì „
                        </li>
                        <li class="sidebar-item" onclick="showContent('branches')">
                            <span>ğŸŒ¿</span> ë¸Œëœì¹˜
                        </li>
                        <li class="sidebar-item" onclick="showContent('notifications')">
                            <span>ğŸ””</span> ì•Œë¦¼
                        </li>
                        <li class="sidebar-item" onclick="showContent('settings')">
                            <span>âš™ï¸</span> ì„¤ì •
                        </li>
                    </ul>
                </div>

                <!-- ë©”ì¸ ì½˜í…ì¸  -->
                <div class="main-content">
                    <div class="content-area">
                        <!-- íŒŒì¼ ëª©ë¡ -->
                        <div id="filesContent" class="content-section">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3>í”„ë¡œì íŠ¸ íŒŒì¼</h3>
                                <button class="btn btn-primary" onclick="commitChanges()">ë³€ê²½ì‚¬í•­ ì»¤ë°‹</button>
                            </div>
                            <div class="file-list" id="fileList">
                                <!-- íŒŒì¼ í•­ëª©ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                            </div>
                        </div>

                        <!-- ë²„ì „ íˆìŠ¤í† ë¦¬ -->
                        <div id="versionsContent" class="content-section hidden">
                            <h3 style="margin-bottom: 20px;">ì»¤ë°‹ íˆìŠ¤í† ë¦¬</h3>
                            <div class="commit-list" id="commitList">
                                <!-- ì»¤ë°‹ í•­ëª©ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                            </div>
                        </div>

                        <!-- ë¸Œëœì¹˜ ê´€ë¦¬ -->
                        <div id="branchesContent" class="content-section hidden">
                            <h3 style="margin-bottom: 20px;">ë¸Œëœì¹˜ ê´€ë¦¬</h3>
                            <div class="branch-graph" id="branchGraph"></div>
                            <button class="btn btn-primary" onclick="createBranch()">ìƒˆ ë¸Œëœì¹˜ ìƒì„±</button>
                        </div>

                        <!-- ì•Œë¦¼ -->
                        <div id="notificationsContent" class="content-section hidden">
                            <h3 style="margin-bottom: 20px;">ì•Œë¦¼ ì„¤ì •</h3>
                            <p>ì•Œë¦¼ ê´€ë ¨ ì„¤ì •ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
                        </div>

                        <!-- ì„¤ì • -->
                        <div id="settingsContent" class="content-section hidden">
                            <h3 style="margin-bottom: 20px;">í™˜ê²½ì„¤ì •</h3>
                            <div style="margin-bottom: 20px;">
                                <h4 style="margin-bottom: 10px;">ì •ë³´</h4>
                                <p style="color: var(--text-secondary); margin-bottom: 8px;">ë²„ì „: 1.0.0</p>
                                <p style="color: var(--text-secondary); margin-bottom: 8px;">ì œì‘: 3pxTeam</p>
                            </div>
                            <div>
                                <h4 style="margin-bottom: 10px;">í…Œë§ˆ</h4>
                                <button class="btn btn-secondary" onclick="toggleTheme()">
                                    <span id="themeText">ë¼ì´íŠ¸ ëª¨ë“œë¡œ ì „í™˜</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- í„°ë¯¸ë„ íŒ¨ë„ -->
                    <div class="terminal-panel">
                        <div class="terminal-header">
                            <div class="terminal-tabs">
                                <div class="terminal-tab active" onclick="showTerminalTab('log')">ì»¤ë°‹ ë¡œê·¸</div>
                                <div class="terminal-tab" onclick="showTerminalTab('status')">ìƒíƒœ</div>
                            </div>
                        </div>
                        <div class="terminal-content" id="terminalContent">
                            <div id="terminalLog">ì»¤ë°‹ ë¡œê·¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>
                            <div id="terminalStatus" class="hidden">ìƒíƒœ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ëª¨ë‹¬ë“¤ -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title" id="modalTitle">ëª¨ë‹¬ ì œëª©</div>
                <div class="modal-subtitle" id="modalSubtitle">ëª¨ë‹¬ ë¶€ì œëª©</div>
            </div>
            <div class="modal-body" id="modalBody">
                ëª¨ë‹¬ ë‚´ìš©
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">ì·¨ì†Œ</button>
                <button class="btn btn-primary" onclick="confirmModal()">í™•ì¸</button>
            </div>
        </div>
    </div>

    <!-- í† ìŠ¤íŠ¸ ì»¨í…Œì´ë„ˆ -->
    <div class="toast-container" id="toastContainer"></div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentProject = null;
        let currentTheme = 'dark';
        let activeContent = 'files';

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            // ë¡œë”© í™”ë©´ í‘œì‹œ í›„ ë©”ì¸ ì•±ìœ¼ë¡œ ì „í™˜
            setTimeout(() => {
                document.getElementById('splashScreen').style.display = 'none';
                document.getElementById('appContainer').classList.add('visible');
                loadSampleData();
            }, 2000);
        });

        // ìƒ˜í”Œ ë°ì´í„° ë¡œë“œ
        function loadSampleData() {
            const sampleFiles = [
                { name: 'design-v1.psd', type: 'psd', size: '25.4 MB', modified: '2ì‹œê°„ ì „', status: 'modified' },
                { name: 'logo-concept.ai', type: 'ai', size: '3.2 MB', modified: '1ì¼ ì „', status: 'staged' },
                { name: 'wireframe.sketch', type: 'sketch', size: '12.8 MB', modified: '3ì¼ ì „', status: 'committed' },
                { name: 'prototype.fig', type: 'figma', size: '8.9 MB', modified: '1ì£¼ ì „', status: 'committed' }
            ];

            const sampleCommits = [
                { 
                    message: 'ë©”ì¸ ë””ìì¸ ë ˆì´ì•„ì›ƒ ì™„ì„±',
                    author: 'Designer',
                    date: '2ì‹œê°„ ì „',
                    hash: 'a1b2c3d',
                    files: 3
                },
                {
                    message: 'ë¡œê³  ë””ìì¸ ì´ˆì•ˆ ì¶”ê°€',
                    author: 'Designer', 
                    date: '1ì¼ ì „',
                    hash: 'e4f5g6h',
                    files: 1
                },
                {
                    message: 'ì™€ì´ì–´í”„ë ˆì„ êµ¬ì¡° ê°œì„ ',
                    author: 'Designer',
                    date: '3ì¼ ì „', 
                    hash: 'i7j8k9l',
                    files: 2
                }
            ];

            renderFiles(sampleFiles);
            renderCommits(sampleCommits);
        }

        // íŒŒì¼ ëª©ë¡ ë Œë”ë§
        function renderFiles(files) {
            const fileList = document.getElementById('fileList');
            fileList.innerHTML = files.map(file => `
                <div class="file-item" onclick="previewFile('${file.name}')">
                    <div class="file-thumbnail">${getFileIcon(file.type)}</div>
                    <div class="file-info">
                        <div class="file-name">${file.name}</div>
                        <div class="file-details">${file.size} â€¢ ${file.modified}</div>
                    </div>
                    <div class="file-status" style="background: ${getStatusColor(file.status)}"></div>
                </div>
            `).join('');
        }

        // ì»¤ë°‹ ëª©ë¡ ë Œë”ë§
        function renderCommits(commits) {
            const commitList = document.getElementById('commitList');
            commitList.innerHTML = commits.map(commit => `
                <div class="commit-item" onclick="viewCommit('${commit.hash}')">
                    <div class="commit-avatar">${commit.author[0]}</div>
                    <div class="commit-details">
                        <div class="commit-message">${commit.message}</div>
                        <div class="commit-meta">
                            <span>${commit.date}</span>
                            <span>${commit.hash}</span>
                            <span>${commit.files}ê°œ íŒŒì¼</span>
                        </div>
                    </div>
                    <div class="commit-thumbnail"></div>
                </div>
            `).join('');
        }

        // íŒŒì¼ ì•„ì´ì½˜ ê°€ì ¸ì˜¤ê¸°
        function getFileIcon(type) {
            const icons = {
                'psd': 'ğŸ¨',
                'ai': 'ğŸ–Œï¸',
                'sketch': 'âœï¸',
                'figma': 'ğŸ¯',
                'xd': 'ğŸ’œ',
                'png': 'ğŸ–¼ï¸',
                'jpg': 'ğŸ“¸',
                'svg': 'ğŸ­'
            };
            return icons[type] || 'ğŸ“„';
        }

        // íŒŒì¼ ìƒíƒœ ìƒ‰ìƒ ê°€ì ¸ì˜¤ê¸°
        function getStatusColor(status) {
            const colors = {
                'modified': 'var(--accent-orange)',
                'staged': 'var(--accent-blue)',
                'committed': 'var(--accent-green)'
            };
            return colors[status] || 'var(--text-secondary)';
        }

        // í…Œë§ˆ í† ê¸€
        function toggleTheme() {
            currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.body.setAttribute('data-theme', currentTheme);
            
            const themeIcon = document.getElementById('themeIcon');
            const themeText = document.getElementById('themeText');
            
            if (currentTheme === 'light') {
                themeIcon.textContent = 'ğŸŒ';
                if (themeText) themeText.textContent = 'ë‹¤í¬ ëª¨ë“œë¡œ ì „í™˜';
            } else {
                themeIcon.textContent = 'ğŸŒ™';
                if (themeText) themeText.textContent = 'ë¼ì´íŠ¸ ëª¨ë“œë¡œ ì „í™˜';
            }
            
            showToast('í…Œë§ˆê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
        }

        // íŠ¸ë˜í”½ ë¼ì´íŠ¸ ë²„íŠ¼ í•¨ìˆ˜ë“¤
        function closeApp() {
            if (window.electron) {
                window.electron.closeApp();
            } else {
                window.close();
            }
        }

        function minimizeApp() {
            if (window.electron) {
                window.electron.minimizeApp();
            }
        }

        function maximizeApp() {
            if (window.electron) {
                window.electron.maximizeApp();
            }
        }

        // í™ˆ í™”ë©´ ë²„íŠ¼ í•¨ìˆ˜ë“¤
        function selectNewProject() {
            showModal('ìƒˆ í”„ë¡œì íŠ¸ ì„ íƒ', 'ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ í´ë”ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”', `
                <div style="padding: 20px; text-align: center;">
                    <p style="margin-bottom: 20px; color: var(--text-secondary);">
                        í”„ë¡œì íŠ¸ í´ë”ë¥¼ ì„ íƒí•˜ë©´ DGit ì €ì¥ì†Œê°€ ìë™ìœ¼ë¡œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.
                    </p>
                    <button class="btn btn-primary" onclick="mockSelectFolder()">í´ë” ì„ íƒ</button>
                </div>
            `);
        }

        function openCurrentProject() {
            if (currentProject) {
                openProject(currentProject);
            } else {
                showToast('ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤', 'warning');
            }
        }

        function showRecentProjects() {
            const recentProjects = [
                { name: 'UI Kit Design', path: '/Users/designer/Projects/ui-kit', lastModified: '2ì‹œê°„ ì „' },
                { name: 'Brand Identity', path: '/Users/designer/Projects/brand', lastModified: '1ì¼ ì „' },
                { name: 'Mobile App Design', path: '/Users/designer/Projects/mobile', lastModified: '3ì¼ ì „' },
                { name: 'Website Redesign', path: '/Users/designer/Projects/website', lastModified: '1ì£¼ ì „' }
            ];

            const projectList = recentProjects.map(project => `
                <div class="file-item" onclick="openRecentProject('${project.path}', '${project.name}')">
                    <div class="file-thumbnail">ğŸ“</div>
                    <div class="file-info">
                        <div class="file-name">${project.name}</div>
                        <div class="file-details">${project.path} â€¢ ${project.lastModified}</div>
                    </div>
                </div>
            `).join('');

            showModal('ì§€ë‚œ í”„ë¡œì íŠ¸', 'ìµœê·¼ ì‘ì—…í•œ í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•˜ì„¸ìš”', `
                <div class="file-list">
                    ${projectList}
                </div>
            `);
        }

        // í”„ë¡œì íŠ¸ ì—´ê¸°
        function openProject(projectInfo) {
            currentProject = projectInfo;
            document.getElementById('homeScreen').style.display = 'none';
            document.getElementById('workspace').classList.add('active');
            document.getElementById('titleText').textContent = `DGit MAC - ${projectInfo.name}`;
            document.getElementById('projectName').textContent = projectInfo.name;
            document.getElementById('projectPath').textContent = projectInfo.path;
            
            showToast(`í”„ë¡œì íŠ¸ '${projectInfo.name}'ì„ ì—´ì—ˆìŠµë‹ˆë‹¤`, 'success');
        }

        function openRecentProject(path, name) {
            closeModal();
            openProject({ name, path });
        }

        function mockSelectFolder() {
            closeModal();
            const projectInfo = {
                name: 'New Design Project',
                path: '/Users/designer/Projects/new-project'
            };
            openProject(projectInfo);
        }

        // í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
        function goHome() {
            document.getElementById('workspace').classList.remove('active');
            document.getElementById('homeScreen').style.display = 'flex';
            document.getElementById('titleText').textContent = 'DGit MAC';
            currentProject = null;
        }

        // ì‚¬ì´ë“œë°” ì½˜í…ì¸  í‘œì‹œ
        function showContent(contentType) {
            // ëª¨ë“  ì½˜í…ì¸  ì„¹ì…˜ ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // ì‚¬ì´ë“œë°” í™œì„±í™” ìƒíƒœ ë³€ê²½
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // ì„ íƒëœ ì½˜í…ì¸  í‘œì‹œ
            document.getElementById(`${contentType}Content`).classList.remove('hidden');
            event.target.classList.add('active');
            activeContent = contentType;
        }

        // í„°ë¯¸ë„ íƒ­ ì „í™˜
        function showTerminalTab(tabType) {
            document.querySelectorAll('.terminal-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            event.target.classList.add('active');
            
            if (tabType === 'log') {
                document.getElementById('terminalLog').classList.remove('hidden');
                document.getElementById('terminalStatus').classList.add('hidden');
            } else {
                document.getElementById('terminalLog').classList.add('hidden');
                document.getElementById('terminalStatus').classList.remove('hidden');
            }
        }

        // íŒŒì¼ ë¯¸ë¦¬ë³´ê¸°
        function previewFile(filename) {
            showModal('íŒŒì¼ ë¯¸ë¦¬ë³´ê¸°', filename, `
                <div style="text-align: center; padding: 40px;">
                    <div style="width: 200px; height: 150px; background: var(--bg-tertiary); border-radius: 8px; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 3rem;">
                        ${getFileIcon(filename.split('.').pop())}
                    </div>
                    <p style="color: var(--text-secondary);">
                        ${filename}ì˜ ë¯¸ë¦¬ë³´ê¸°ì…ë‹ˆë‹¤.<br>
                        ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì´ë¯¸ì§€ ì¸ë„¤ì¼ì´ í‘œì‹œë©ë‹ˆë‹¤.
                    </p>
                </div>
            `);
        }

        // ì»¤ë°‹ ìƒì„¸ë³´ê¸°
        function viewCommit(hash) {
            showModal('ì»¤ë°‹ ìƒì„¸ì •ë³´', `ì»¤ë°‹ ${hash}`, `
                <div style="padding: 20px;">
                    <h4 style="margin-bottom: 16px;">ë³€ê²½ëœ íŒŒì¼:</h4>
                    <div class="file-list">
                        <div class="file-item">
                            <div class="file-thumbnail">ğŸ¨</div>
                            <div class="file-info">
                                <div class="file-name">design-v1.psd</div>
                                <div class="file-details">+127 -23 ë¼ì¸</div>
                            </div>
                        </div>
                    </div>
                    <h4 style="margin: 20px 0 16px 0;">ì»¤ë°‹ ë©”ì‹œì§€:</h4>
                    <p style="color: var(--text-secondary); background: var(--bg-tertiary); padding: 12px; border-radius: 6px;">
                        ë©”ì¸ ë””ìì¸ ë ˆì´ì•„ì›ƒì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì»¬ëŸ¬ ìŠ¤í‚´ì„ ì ìš©í•˜ê³  íƒ€ì´í¬ê·¸ë˜í”¼ë¥¼ ê°œì„ í–ˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
            `);
        }

        // ë³€ê²½ì‚¬í•­ ì»¤ë°‹
        function commitChanges() {
            showModal('ë³€ê²½ì‚¬í•­ ì»¤ë°‹', 'ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”', `
                <div>
                    <textarea 
                        id="commitMessage" 
                        placeholder="ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
                        style="
                            width: 100%;
                            height: 100px;
                            background: var(--bg-secondary);
                            border: 1px solid var(--border-color);
                            border-radius: 6px;
                            padding: 12px;
                            color: var(--text-primary);
                            resize: vertical;
                            font-family: inherit;
                        "
                    ></textarea>
                    <div style="margin-top: 16px; color: var(--text-secondary); font-size: 0.9rem;">
                        ë³€ê²½ëœ íŒŒì¼: 2ê°œ â€¢ ì¶”ê°€: 1ê°œ â€¢ ìˆ˜ì •: 1ê°œ
                    </div>
                </div>
            `, () => {
                const message = document.getElementById('commitMessage').value;
                if (message.trim()) {
                    performCommit(message);
                } else {
                    showToast('ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 'warning');
                }
            });
        }

        function performCommit(message) {
            closeModal();
            showToast('ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•˜ëŠ” ì¤‘...', 'success');
            
            // í„°ë¯¸ë„ì— ë¡œê·¸ ì¶”ê°€
            const terminalLog = document.getElementById('terminalLog');
            terminalLog.innerHTML += `
                <div style="margin-bottom: 8px;">
                    <span style="color: var(--accent-green);">âœ“</span> 
                    <span style="color: var(--text-secondary);">[${new Date().toLocaleTimeString()}]</span>
                    ì»¤ë°‹ ì™„ë£Œ: ${message}
                </div>
            `;
            terminalLog.scrollTop = terminalLog.scrollHeight;
            
            setTimeout(() => {
                showToast('ì»¤ë°‹ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤ âœ…', 'success');
            }, 1000);
        }

        // ë¸Œëœì¹˜ ìƒì„±
        function createBranch() {
            showModal('ìƒˆ ë¸Œëœì¹˜ ìƒì„±', 'ë¸Œëœì¹˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”', `
                <div>
                    <input 
                        type="text" 
                        id="branchName" 
                        placeholder="feature/new-design"
                        style="
                            width: 100%;
                            padding: 12px;
                            background: var(--bg-secondary);
                            border: 1px solid var(--border-color);
                            border-radius: 6px;
                            color: var(--text-primary);
                            font-family: inherit;
                        "
                    />
                    <div style="margin-top: 16px; color: var(--text-secondary); font-size: 0.9rem;">
                        í˜„ì¬ ë¸Œëœì¹˜: mainì—ì„œ ë¶„ê¸°ë©ë‹ˆë‹¤
                    </div>
                </div>
            `, () => {
                const branchName = document.getElementById('branchName').value;
                if (branchName.trim()) {
                    createNewBranch(branchName);
                } else {
                    showToast('ë¸Œëœì¹˜ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”', 'warning');
                }
            });
        }

        function createNewBranch(name) {
            closeModal();
            showToast(`ë¸Œëœì¹˜ '${name}'ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤`, 'success');
            
            // ë¸Œëœì¹˜ ê·¸ë˜í”„ ì—…ë°ì´íŠ¸ (ê°„ë‹¨í•œ ì‹œê°í™”)
            const branchGraph = document.getElementById('branchGraph');
            const newNode = document.createElement('div');
            newNode.className = 'branch-node';
            newNode.style.left = Math.random() * 200 + 'px';
            newNode.style.top = Math.random() * 100 + 50 + 'px';
            newNode.title = name;
            branchGraph.appendChild(newNode);
        }

        // ëª¨ë‹¬ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function showModal(title, subtitle, body, confirmCallback = null) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalSubtitle').textContent = subtitle;
            document.getElementById('modalBody').innerHTML = body;
            document.getElementById('modalOverlay').classList.add('show');
            
            // í™•ì¸ ë²„íŠ¼ ì½œë°± ì„¤ì •
            window.currentModalCallback = confirmCallback;
        }

        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('show');
            window.currentModalCallback = null;
        }

        function confirmModal() {
            if (window.currentModalCallback) {
                window.currentModalCallback();
            } else {
                closeModal();
            }
        }

        // í† ìŠ¤íŠ¸ ì•Œë¦¼
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            const icon = type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : 'âš ï¸';
            toast.innerHTML = `
                <span>${icon}</span>
                <span>${message}</span>
            `;
            
            document.getElementById('toastContainer').appendChild(toast);
            
            // 3ì´ˆ í›„ ìë™ ì œê±°
            setTimeout(() => {
                toast.style.animation = 'toastSlideIn 0.3s ease reverse';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
        document.addEventListener('keydown', function(e) {
            if (e.metaKey || e.ctrlKey) {
                switch(e.key) {
                    case 'o':
                        e.preventDefault();
                        if (document.getElementById('homeScreen').style.display !== 'none') {
                            selectNewProject();
                        }
                        break;
                    case 's':
                        e.preventDefault();
                        if (currentProject) {
                            commitChanges();
                        }
                        break;
                    case 'w':
                        e.preventDefault();
                        goHome();
                        break;
                    case 'r':
                        e.preventDefault();
                        showToast('ìƒíƒœë¥¼ ìƒˆë¡œê³ ì¹¨í–ˆìŠµë‹ˆë‹¤', 'success');
                        break;
                }
            }
            
            if (e.key === 'Escape') {
                if (document.getElementById('modalOverlay').classList.contains('show')) {
                    closeModal();
                } else if (currentProject) {
                    goHome();
                }
            }
        });

        // ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ í´ë¦­ì‹œ ë‹«ê¸°
        document.getElementById('modalOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>